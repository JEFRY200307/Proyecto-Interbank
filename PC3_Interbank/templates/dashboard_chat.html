<!-- templates/dashboard_chat.html -->
{% extends "dashboard_base.html" %}
{% load static %}

{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenido a Banky</title>
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body>
    <h1>Bienvenido a Banky</h1>
    <div id="chatbots-container">
        {% for cat in categories %}
            <a href="/users/dashboard/chat/{{ cat.id }}/" class="chatbot-card">
                <img src="{% static 'img/chatbot_{{ cat.id }}.png' %}" alt="{{ cat.name }}" class="chatbot-img">
                <div class="chatbot-title">{{ cat.name }}</div>
            </a>
        {% endfor %}
    </div>
    <div id="chat-section" class="hidden">
        <div id="chat-log"></div>
        <div id="chat-input">
            <input type="text" id="user-message" placeholder="Escribe tu mensaje aquí..." />
            <button id="enviar-btn">Enviar</button>
        </div>
        <div id="chat-buttons">
            <button id="roadmap-btn">Estoy listo para que me des el roadmap</button>
            <button id="volver-btn">Volver a los chatbots</button>
        </div>
    </div>
    <script src="{% static 'js/chat.js' %}"></script>
</body>
</html>

<h2 id="chatbot-title" style="text-align:center; margin-top:32px; color:#2563eb; font-size:2em; font-weight:bold;">
  Bienvenido a Banky
</h2>

<div id="chatbot-actions" style="display: flex; justify-content: center; gap: 16px; margin-top: 18px; margin-bottom: 18px;">
  <button id="roadmap-btn" onclick="enviarMensajeRoadmap()" style="display: none;">Estoy listo para que me des el roadmap</button>
  <button id="volver-btn" onclick="volverATarjetas()" style="display:none;">Volver a los chatbots</button>
</div>

<div id="chat-section" class="visible">
  <div id="chat-log"></div>
  <div id="chat-input">
    <input type="text" id="user-message" placeholder="Escribe tu mensaje aquí..." />
    <button id="enviar-btn">Enviar</button>
  </div>
</div>
<h1>Chatbot: {{ category.name }}</h1>
<script>
  const chatbotId = "{{ chatbot_id }}";
  console.log("Chatbot ID:", chatbotId);
</script>
<script src="{% static 'js/chat.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
{% endblock %}

