<!-- templates/dashboard_documentos.html -->
{% extends "dashboard_base.html" %}
{% load static %}

{% block content %}
<div class="chat-container">
  <h2>Seleccione un Chatbot</h2>
  <div class="chat-buttons">
    {% for cat in categories %}
      <button class="chatbot-btn" onclick="seleccionarCategoria({{ cat.id }}, '{{ cat.name }}')">
        {{ cat.name }}
      </button>
      <button class="roadmap-btn" onclick="enviarMensajeRoadmap('{{ cat.id }}')">
        Estoy listo para que me des el roadmap
      </button>
    {% endfor %}
  </div>

  <div id="chat-section" style="display:none; margin-top: 20px;">
    <h3 id="chat-category-title"></h3>
    <div id="chat-log" style="border:1px solid #ccc; min-height:300px; padding:1rem; margin-bottom:1rem; overflow-y:scroll;"></div>
    <div class="chat-input-area">
      <input type="text" id="user-message" placeholder="Escribe tu mensaje..." style="width:80%;">
      <button onclick="enviarMensaje()">Enviar</button>
    </div>
  </div>
</div>
<script src="{% static 'js/chat.js' %}"></script>
{% endblock %}

